# Register app

[Register Your Application >](https://collaby.net/api/)

The open API allows developers to integrate Collaby's features into their software.

# Authentication
Collaby users will login via a login page provided by Collaby. Logging in only takes 3 steps. User login in your app will work like this:

  1. Redirect the user to the login page
  2. Collaby will redirect a logged in user back to your app and your app will recieve a temporary code
  3. Your app exchanges this code for an API access code
 
Now you have full access to the API.

### 1. Redirect to login

##### Request

**`GET https://collaby.net/api/auth/{client_id}/`**

##### Parameters
Attach the parameters to the url, except "client_id".
Name | Type | Description | Required
--- | :---: | --- | :---:
client_id | string | Client ID from your app. | ✔
permissions | string | List of scopes that your app needs access to. | ✔
random | string | Random string generated by your app. Save this for the next step. | ✔
callback_uri | string | Custom callback URI*, if not specified, the default from your app will be used. | 

### 2. Back to app
A temporary code and the random string will be attached as a parameter to your callback url.
Make sure to check if the random string matches your saved random string, otherwise, cancel the login.

### 3. Exchange code
The token will be attached as a parameter to your callback url.

##### Request

**`POST https://collaby.net/api/auth/{client_id}/token`**

##### Parameters
Attach the parameters to the url, except "client_id".

Name | Type | Description | Required
--- | :---: | --- | :---:
client_id | string | Client ID from your app. | ✔
client_secret | string | The client secrect** can be found in your application dashboard. | ✔
code | string | The temporary code from step 2. | ✔
callback_uri | string | Custom callback URI*, if not specified, the default from your app will be used. | 

##### Response
Response format: JSON
```json
{
  "access_token" : "5955f21ecb27e9f14b2a74ecfa47f4e62591c05e68f6f88d25ad86d784230d2f",
  "permissions" : "public",
  "user_uid": "858163746021"
}
```
Use this code when you send requests to the API, for example:

**`GET https://collaby.net/api/{access_token}/user/{uid}`**

# Users

To get a user's profile information, you can call this:

### Get a user

##### Request
By ID:
**`GET https://collaby.net/api/{access_token}/user/{uid}`**
By username:
**`GET https://collaby.net/api/{access_token}/user/{username}`**'

##### Response
Values will be null if they are either hidden or never set.
Response format: JSON
```json
{  
   "uid": "404044274725",
   "username": "tijmenennik",
   "name": "Tijmen Ennik",
   "email": null,
   "quality": "1",
   "twitter": "tijmenennik",
   "github": "tijmenennik",
   "bio": "\"Welcome! I'm the developer and designer of Collaby! \\ud83d\\ude01\"",
   "avatar": "lh4.googleusercontent.com\/-akeT-OoIOTM\/AAAAAAAAAAI\/AAAAAAAAF4E\/DB5iofPgIyI\/photo.jpg",
   "dribbble": "tijmenennik"
}
```

**_More coming soon_**

---
\* Callback URI must have a protocol, cannot contain URL fragments or relative paths and cannot be a public IP address.
\*\* Never expose this to anyone else, like the user.
